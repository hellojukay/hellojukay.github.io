---
title: ä¸€ä¸ªç®€å•çš„ç«¯å£è½¬å‘æ–¹å¼
date: 2018-12-25
tags: [linux]
---
ä»Šå¤©ä»‹ç»ä¸€ä¸ªç®€å•çš„ç«¯å£è½¬å‘å·¥å…·:[rinetd](https://www.boutell.com/rinetd/)ï¼Œ è¿™ä¸ªå·¥å…·çš„å®‰è£…å’Œé…ç½®éå¸¸çš„ç®€å•ã€‚

## å®‰è£…
ä½¿ç”¨æºç å®‰è£…çš„æ–¹å¼æ¥å®‰è£…è¿™ä¸ªå·¥å…·
```shell
[root@localhost rinetd]# cd ~/zhenyutest/
[root@localhost rinetd]# wget http://www.boutell.com/rinetd/http/rinetd.tar.gz
[root@localhost rinetd]# tar -xvf ~/zhenyutest/rinetd.tar.gz
[root@localhost rinetd]# cd ~/zhenyutest/rinetd/
[root@localhost rinetd]# sed -i 's/65536/65535/g' rinetd.c
[root@localhost rinetd]# mkdir /usr/man/
[root@localhost rinetd]# make && make install
cc -DLINUX -g   -c -o rinetd.o rinetd.c
rinetd.c:176:6: è­¦å‘Šï¼šä¸å†…å»ºå‡½æ•°â€˜logâ€™ç±»å‹å†²çª [é»˜è®¤å¯ç”¨]
   void log(int i, int coSe, int result);
           ^
cc -DLINUX -g   -c -o match.o match.c
gcc rinetd.o match.o -o rinetd
install -m 700 rinetd /usr/sbin
install -m 644 rinetd.8 /usr/man/man8
[root@localhost rinetd]#
```
## é…ç½®
é…ç½®æ–‡ä»¶çš„æ˜¯`/etc/rinetd.conf`,é…ç½®çš„æ–¹å¼å¦‚ä¸‹ï¼š
```txt
[root@localhost rinetd]# vi /etc/rinetd.conf
0.0.0.0 8080 192.168.92.9 8080
```
ç›‘å¬8080ç«¯å£ï¼Œè½¬å‘åˆ° 192.168.92.8 æœåŠ¡å™¨çš„8080ç«¯å£ã€‚

## è¿è¡Œ
```shell
rinetd -c /etc/rinetd.conf
```
å°±èƒ½å¯åŠ¨ç¨‹åºï¼Œå¼€å¯ç«¯å£å‘è½¬åŠŸèƒ½ã€‚


æœ€åï¼Œä¸è¦å¿˜è®°äº†ä¿®æ”¹é˜²ç«å¢™ï¼Œå¼€æ”¾ç«¯å£ğŸ™‚ã€‚
